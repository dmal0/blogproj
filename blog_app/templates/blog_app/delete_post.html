{% extends 'blog_app/base_template.html' %}


{% block content %}
<div class="container-lg">
    <p><h1>Delete Post</h1></p>

    <!-- Confirmation message -->
    <p>
        Are you sure you want to delete this post?<br>
        <div class="container-md border rounded">
            <!-- Title -->
            <p><h3>{{ post.title }}</h3></p>
            
            <!-- Image if present -->
            {% if post.image %}
            <p><img src="{{post.image.url}}" class="img-fluid border rounded" style="max-height:300px;"></p>
            {% endif %}
            
            <!-- Content -->
            <p>{{ post.content }}</p>
        </div>
    </p>

    <!-- Cancel and Delete buttons -->
    <p>
        <ul class="list-group list-group-horizontal">
            <li class="list-group-item p-0 border-0">
                <!-- Go back to post on cancel -->
                <a class="btn btn-primary" href="/blog/{{post.blog.id}}/post/{{post.id}}" role="button">Cancel</a> 
            </li>

            <li class="list-group-item p-0 border-0">
                <!-- Spacer -->
                &nbsp
            </li>

            <li class="list-group-item p-0 border-0">
                <!-- Delete -->
                <form action="" method="POST">
                    {% csrf_token %}
                    <input type="text" value="{{ blog.id }}" hidden/>
                    <input type="text" value="{{ post.id }}" hidden/>
                    <button class="btn btn-danger" type="submit" name="Delete">Delete</button>
                </form>
            </li>
        </ul>
    </p>
</div>
{% endblock %}