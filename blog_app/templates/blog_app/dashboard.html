<!-- inherit from base.html-->
{% extends "blog_app/base_template.html" %}

<!-- Replace block content in base_template.html -->
{% block content %}
<div class="container-lg">
    <p><h1>Dashboard</h1></p>

    <!-- Top buttons -->
    <p>
        <!-- FOR SPRINT 1: This makes a post on Blog 1 (Loe's Blog) by default -->
        <a class="btn btn-primary" href="/new_post" role="button">New Post</a> 
        
        <!-- FOR SPRINT 1: This manages Blog 1 (Loe's Blog) by default -->
        <a class="btn btn-primary" href="/manage" role="button">Manage Posts</a> 
        
        <!-- FOR SPRINT 1: This leads to Blog 1 (Loe's Blog) by default -->
        <a class="btn btn-primary" href="/blog/1" role="button">View Blog</a>
    </p>

    <!-- All / Recent Comments -->
    <!-- This should ONLY be recent comments in the final version; the first 5~10 comments -->
    <p>
        <h2>All Comments</h2>
        <div class="p-2 container-fluid border rounded">
            {% if comment_list %}
                {% for i in comment_list %}
                <p>
                    <div class="p-2 container-sm border rounded">
                        <p>
                            By: {{ i.commenter }}<br>
                            On: {{ i.post.title }}<br>
                            {{ i.content }}<br>
                        </p>
                        <a class="btn btn-outline-primary btn-sm" href="/blog/{{i.post.blog.id}}/post/{{i.post.id}}" role="button">View Post</a>
                    </div>
                </p>
                {% endfor %}
            {% else %}
                <p>There are no comments.</p>
            {% endif %}
        </div>
    </p>

    <!-- All / Saved Blogs -->
    <!-- This should ONLY be saved blogs in the final version; the first 3~5 blogs -->
    <p>
        <h2>All Blogs</h2>
        <div class="p-2 container-fluid border rounded">
            <p>
                {% if blog_list %}
                    <ul class="list-group list-group-horizontal">
                        {% for i in blog_list %}
                        <li class="list-group-item p-2">
                            <p>
                                <strong>Blog Name:</strong> {{ i.name }}<br>
                                <strong>Author:</strong> {{ i.author }}<br>
                            </p>
                            <p>
                                <a class="btn btn-outline-primary btn-sm" href="/blog/{{ i.id }}" role="button">View</a>
                            </p>
                        </li>
                        {% endfor %}
                    </ul>
                {% else %}
                    <p>There are no blogs registered.</p>
                {% endif %}
            </p>

            <p>
                <a class="btn btn-outline-primary" href="saved" role="button">View All</a>
            </p>
        </div>
    </p>
</div>
{% endblock %}